(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{27:function(e,t){},33:function(e,t,a){},35:function(e,t,a){},37:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(23),s=a.n(c),i=(a(33),a(8)),o=a(3),l=a.n(o),j=a(6),b=a(4),u=(a(35),a.p+"static/media/Masthead.84acd058.png"),d=a(0);var h=function(){return Object(d.jsx)("div",{className:"Masthead",children:Object(d.jsx)("img",{src:u,alt:"The New York End Times"})})},p=a(9),O=a.n(p);a(37);var m=function(e){var t,a,r=function(){var t=Object(j.a)(l.a.mark((function t(){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":O.a.get("csrftoken")},body:JSON.stringify(e.user)},t.next=3,fetch("/rest-auth/logout/",a);case 3:if(r=t.sent){t.next=8;break}console.log(r),t.next=14;break;case 8:return t.next=10,r.json();case 10:t.sent,O.a.remove("Authorization"),e.setIsAuth(!1),e.setUser(4);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t=!0===e.isAuth?Object(d.jsx)(i.b,{to:"/logout",onClick:r,children:" Logout "}):Object(d.jsx)(i.b,{to:"/login",children:" Login "}),a=!0===e.isStaff?Object(d.jsxs)("li",{className:"nav-item mr-3",children:[" ",Object(d.jsx)(i.b,{to:"/mystories",children:" My Stories "})]}):Object(d.jsx)(d.Fragment,{}),Object(d.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(d.jsxs)("div",{className:"container-fluid",children:[Object(d.jsx)("a",{className:"navbar-brand",href:"#",children:"Site Navigation"}),Object(d.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarColor03","aria-controls":"navbarColor03","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(d.jsx)("span",{className:"navbar-toggler-icon"})}),Object(d.jsx)("div",{className:"collapse navbar-collapse",id:"navbarColor03",children:Object(d.jsxs)("ul",{className:"navbar-nav me-auto",children:[Object(d.jsx)("li",{className:"nav-item mr-3",children:Object(d.jsx)(i.b,{to:"",children:" Home "})}),Object(d.jsx)("li",{className:"nav-item mr-3",children:Object(d.jsx)(i.b,{to:"/constories",children:" Conspiracies "})}),Object(d.jsx)("li",{className:"nav-item mr-3",children:Object(d.jsx)(i.b,{to:"/curstories",children:" Current Events "})}),Object(d.jsx)("li",{className:"nav-item mr-3",children:Object(d.jsx)(i.b,{to:"/nrgstories",children:" Energy and Tech "})}),a,Object(d.jsx)("li",{className:"nav-item mr-3",children:t})]})})]})})},x=a(2);var f=function(e){return Object(d.jsxs)("aside",{className:"sidebar-article",id:e.id,children:[Object(d.jsx)("h3",{children:e.headline}),Object(d.jsx)("p",{children:e.text})]})},v=a(10);var g=function(e){var t,a=Object(r.useState)([]),n=Object(b.a)(a,2),c=n[0],s=n[1];function i(){return(i=Object(j.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api_v1/articles/bitesize/");case 2:if(!(t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:a=e.sent,s(a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[]),t=c!==[]?c.map((function(e){return Object(d.jsx)(f,Object(x.a)(Object(x.a)({},e),{},{bitesize:c}),e.id+7e3)})):Object(d.jsxs)(d.Fragment,{children:[" ",Object(d.jsx)(v.a,{animation:"grow",variant:"primary"}),Object(d.jsx)("p",{children:"Loading..."})]}),Object(d.jsxs)("div",{className:"Sidebar",children:[Object(d.jsx)("h2",{className:"side-head",children:"Bite-Sized News!"}),t]})};a(43);var y=function(e){var t,a=Object(r.useState)(!0),n=Object(b.a)(a,2),c=n[0],s=n[1],i=Object(r.useState)(),o=Object(b.a)(i,2)[1];function l(e){s(!c);var t=e.target.parentElement.parentElement;!0===c?(t.style.maxHeight="500vh",e.target.innerHTML="Read Less"):(t.style.maxHeight="25vh",e.target.innerHTML="Read More")}return Object(r.useCallback)((function(){return o({})}),[]),console.log(e),t=null!==e.photo3?Object(d.jsxs)("article",{id:"{props.id}",children:[Object(d.jsx)("img",{src:e.photo1,className:"photo1-3-photo-layout"}),Object(d.jsxs)("div",{className:"headwrap",children:[Object(d.jsx)("h2",{children:e.headline}),Object(d.jsx)("button",{id:"read-button",onClick:l,children:"Read More"}),Object(d.jsx)("img",{src:e.photo2,className:"photo2-3-photo-layout"})]}),Object(d.jsx)("p",{children:e.text}),Object(d.jsx)("img",{src:e.photo3,className:"photo3-3-photo-layout"})]}):null!==e.photo1?Object(d.jsxs)("article",{id:"{props.id}",className:"one-photo",children:[Object(d.jsxs)("div",{className:"headwrap",children:[Object(d.jsx)("h2",{className:"stuff",children:e.headline}),Object(d.jsx)("button",{id:"read-button",onClick:l,children:"Read More"})]}),Object(d.jsxs)("div",{className:"photo-wrap",children:[Object(d.jsx)("img",{src:e.photo1,className:"photo1-1-photo-layout"}),Object(d.jsx)("p",{children:e.text})]})]}):Object(d.jsxs)("article",{id:"{props.id}",children:[Object(d.jsxs)("div",{className:"headwrap",children:[Object(d.jsx)("h2",{children:e.headline}),Object(d.jsx)("button",{id:"read-button",onClick:l,children:"Read More"})]}),Object(d.jsx)("p",{children:e.text})]}),Object(d.jsx)(d.Fragment,{children:t})};var N=function(e){var t;return t=e.articles!=={}?e.articles.map((function(t){return Object(d.jsx)(y,Object(x.a)(Object(x.a)({},t),{},{articles:e.articles,setArticles:e.setArticles}),t.id+9e3)})):Object(d.jsxs)(d.Fragment,{children:[" ",Object(d.jsx)(v.a,{animation:"grow",variant:"primary"}),Object(d.jsx)("p",{children:"Loading..."})]}),Object(d.jsx)("div",{className:"page",children:Object(d.jsx)("div",{className:"article col-12",children:t})})},w=a(7),k=a(28),C=["isStaff"];var S=function(e){var t=e.isStaff,a=Object(k.a)(e,C);return t?Object(d.jsx)(w.b,Object(x.a)({},a)):Object(d.jsx)(w.a,{to:"/login"})},A=a(14);var E=function(){var e=Object(r.useState)({alias:"",avatar:null}),t=Object(b.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),s=Object(b.a)(c,2),i=s[0],o=s[1];return Object(d.jsx)("div",{className:"ProfileForm",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("alias",a.alias),t.append("avatar",a.avatar);O.a.get("csrftoken")},children:[Object(d.jsx)("input",{type:"text",name:"alias",value:a.alias,onChange:function(e){var t=e.target,r=t.name,c=t.value;n(Object(x.a)(Object(x.a)({},a),{},Object(A.a)({},r,c)))}}),Object(d.jsx)("input",{type:"file",name:"avatar",onChange:function(e){var t=e.target.files[0];n(Object(x.a)(Object(x.a)({},a),{},{avatar:t}));var r=new FileReader;r.onloadend=function(){o(r.result)},r.readAsDataURL(t)}}),a.avatar&&Object(d.jsx)("img",{src:i,alt:""}),Object(d.jsx)("button",{type:"submit",children:"Save Profile"})]})})};var F=function(e){var t=Object(r.useState)({username:"",email:"",password1:"",password2:""}),a=Object(b.a)(t,2),n=a[0],c=a[1];function s(e){var t=e.target,a=t.name,r=t.value;c((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(A.a)({},a,r))}))}var i=Object(r.useState)(null),o=Object(b.a)(i,2),u=o[0],h=o[1];function p(e){console.warn(e)}function m(){return(m=Object(j.a)(l.a.mark((function e(t){var a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.password1===n.password2){e.next=5;break}h("Passwords do not match!"),e.next=17;break;case 5:return a={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":O.a.get("csrftoken")},body:JSON.stringify(n)},e.next=8,fetch("/rest-auth/registration/",a).catch(p);case 8:if(r=e.sent){e.next=13;break}console.log(r),e.next=17;break;case 13:return e.next=15,r.json();case 15:c=e.sent,O.a.set("Authorization","Token ".concat(c.key));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(d.jsxs)("form",{className:"mt-3 col-6",onSubmit:function(e){return m.apply(this,arguments)},children:[Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"username",children:"Username"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"username",placeholder:"Enter username",onChange:s,required:!0,name:"username",value:n.username})]}),Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"email",children:"Email address"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"email",placeholder:"Enter E-mail",onChange:s,required:!0,name:"email",value:n.email})]}),Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"password1",children:"Password:"}),Object(d.jsx)("input",{type:"password",className:"form-control",id:"password1",placeholder:"Enter Password",onChange:s,required:!0,name:"password1",value:n.password1})]}),Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"password2",children:"Confirm Password:"}),Object(d.jsx)("input",{type:"password",className:"form-control",id:"password2",placeholder:"Re-enter password",onChange:s,required:!0,name:"password2",value:n.password2}),u&&Object(d.jsxs)("span",{className:"text-danger",children:[" ",u]})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary mt-3",children:"Register"})]})};a(44);var T=Object(w.h)((function(e){var t=Object(r.useState)({username:"",password:""}),a=Object(b.a)(t,2),n=a[0],c=a[1];function s(e){var t=e.target,a=t.name,r=t.value;c((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(A.a)({},a,r))}))}function i(e){console.warn(e)}function o(){return(o=Object(j.a)(l.a.mark((function t(a){var r,c,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),r={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":O.a.get("csrftoken")},body:JSON.stringify(n)},t.next=4,fetch("/rest-auth/login/",r).catch(i);case 4:if(c=t.sent){t.next=9;break}console.log(c),t.next=14;break;case 9:return t.next=11,c.json();case 11:s=t.sent,O.a.set("Authorization","Token ".concat(s.key)),e.setIsAuth(!0);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return e.isAuth?Object(d.jsx)(w.a,{to:"/"}):Object(d.jsxs)("form",{className:"mt-3 col-6",onSubmit:function(e){return o.apply(this,arguments)},children:[Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"username",children:"Username"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"username",placeholder:"Enter username",onChange:s,required:!0,name:"username",value:n.username})]}),Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(d.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Enter Password",onChange:s,required:!0,name:"password",value:n.password1})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary mt-3",children:"Log in"}),Object(d.jsx)("button",{type:"click",className:"btn btn-primary mt-3",children:"Register"})]})})),R=(a(45),a(26));var D=function(e){var t,a,n,c=Object(w.g)(),s=Object(r.useState)(!0),i=Object(b.a)(s,2),o=i[0],l=i[1];switch(e.phase){case"sub":a="Submitted";break;case"pub":a="Published";break;case"rej":a="Rejected";break;case"dft":a="Draft";break;default:console.log("Error -- Article phase unrecognized.")}return n="Draft"===a?Object(d.jsx)("button",{id:"edit-button",onClick:function(t){var a=t.target.parentElement.parentElement.parentElement.id;e.setArticleID(a),console.log(a),c.push("/edit/")},children:"Edit"}):Object(d.jsx)(d.Fragment,{children:" "}),t=Object(d.jsxs)("article",{id:e.id,children:[Object(d.jsxs)("div",{className:"headwrap",children:[Object(d.jsxs)("div",{className:"badgewrap",children:[Object(d.jsx)("h2",{children:e.headline}),Object(d.jsx)(R.a,{className:"badge",children:a})]}),Object(d.jsxs)("div",{className:"buttonDiv",children:[n,Object(d.jsx)("button",{id:"read-button",onClick:function(e){l(!o);var t=e.target.parentElement.parentElement.parentElement;!0===o?(t.style.maxHeight="500vh",e.target.innerHTML="Read Less"):(t.style.maxHeight="20vh",e.target.innerHTML="Read More")},children:"Read More"})]})]}),Object(d.jsx)("p",{children:e.text})]}),Object(d.jsx)(d.Fragment,{children:t})};var L=function(e){var t,a=Object(r.useState)([]),n=Object(b.a)(a,2),c=n[0],s=n[1],i=Object(w.g)();function o(){return(o=Object(j.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api_v1/articles/personal/");case 2:if(!(t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:a=e.sent,s(a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){o.apply(this,arguments)}()}),[]),t=c!==[]?c.map((function(t){return Object(d.jsx)(D,Object(x.a)(Object(x.a)({},t),{},{articles:e.articles,setArticles:e.setArticles,setArticleID:e.setArticleID}),t.id+8e3)})):Object(d.jsxs)(d.Fragment,{children:[" ",Object(d.jsx)(v.a,{animation:"grow",variant:"primary"}),Object(d.jsx)("p",{children:"Loading..."})]}),Object(d.jsxs)("div",{className:"page",children:[Object(d.jsxs)("div",{className:"article col-12 text-center",children:[Object(d.jsx)("h2",{children:" Welcome Staff!  Your stories are below."}),Object(d.jsx)("hr",{})]}),Object(d.jsxs)("div",{children:[t,Object(d.jsx)("button",{onClick:function(){i.push("/new")},children:"Create New Article"})]})]})};var I=function(e){var t=Object(r.useState)({submit:0}),a=Object(b.a)(t,2),n=a[0],c=a[1],s=Object(w.g)();function i(){return(i=Object(j.a)(l.a.mark((function t(){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return 0===e.articleID&&s.push("/mystories/"),t.next=3,fetch("/api_v1/articles/".concat(e.articleID,"/"));case 3:if(!(a=t.sent).ok){t.next=9;break}return t.next=7,a.json();case 7:r=t.sent,c(Object(x.a)(Object(x.a)({},n),r));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function o(e){var t=e.target,a=t.name,r=t.value;c((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(A.a)({},a,r))}))}function u(e){return h.apply(this,arguments)}function h(){return(h=Object(j.a)(l.a.mark((function t(a){var r,c,i,o,j;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),r=a.target.value,(c=Object(x.a)({},n)).phase=r,i={method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":O.a.get("csrftoken")},body:JSON.stringify(c)},t.next=7,fetch("/api_v1/articles/".concat(e.articleID,"/"),i);case 7:return o=t.sent,t.next=10,o.json();case 10:j=t.sent,console.log("data",j),s.push("/mystories/");case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[]),Object(d.jsxs)("form",{className:"mt-3 col-6",onSubmit:u,children:[Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"headline",children:"Headline: "}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"headline",autoComplete:"off",onChange:o,name:"headline",value:n.headline})]}),Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"text",children:"Body:"}),Object(d.jsx)("textarea",{type:"textarea",rows:"8",cols:"80",className:"form-control",id:"text",onChange:o,name:"text",value:n.text})]}),Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"category1",children:"Category:"}),Object(d.jsxs)("select",{id:"category1",name:"category1",className:"form-control",onChange:o,value:n.category1,required:!0,children:[Object(d.jsx)("option",{value:"non",children:"None"}),Object(d.jsx)("option",{value:"nrg",children:"Energy and Tech"}),Object(d.jsx)("option",{value:"cur",children:"Current Events"}),Object(d.jsx)("option",{value:"con",children:"Conspiracies"})]})]}),Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"category2",children:"Category:"}),Object(d.jsxs)("select",{id:"category2",name:"category2",className:"form-control",onChange:o,value:n.category2,children:[Object(d.jsx)("option",{value:"non",children:"None"}),Object(d.jsx)("option",{value:"nrg",children:"Energy and Tech"}),Object(d.jsx)("option",{value:"cur",children:"Current Events"}),Object(d.jsx)("option",{value:"con",children:"Conspiracies"})]})]}),Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"category3",children:"Category:"}),Object(d.jsxs)("select",{id:"category3",name:"category3",className:"form-control",onChange:o,value:n.category3,children:[Object(d.jsx)("option",{value:"non",children:"None"}),Object(d.jsx)("option",{value:"nrg",children:"Energy and Tech"}),Object(d.jsx)("option",{value:"cur",children:"Current Events"}),Object(d.jsx)("option",{value:"con",children:"Conspiracies"})]})]}),Object(d.jsx)("button",{value:"dft",type:"button",onClick:u,className:"btn btn-primary mt-3",children:"Save and Quit"}),Object(d.jsx)("button",{value:"sub",type:"button",onClick:u,className:"btn btn-primary mt-3",children:"Submit"})]})};var P=function(e){var t=Object(r.useState)({submit:0}),a=Object(b.a)(t,2),n=a[0],c=a[1],s=Object(w.g)();function i(e){var t=e.target,a=t.name,r=t.value;c((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(A.a)({},a,r))}))}function o(e){return u.apply(this,arguments)}function u(){return(u=Object(j.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=t.target.value,c(Object(x.a)(Object(x.a)({},n),{},{phase:a,submit:n.submit+1}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){if(n.submit){var e=function(){var e=Object(j.a)(l.a.mark((function e(){var t,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":O.a.get("csrftoken")},body:JSON.stringify(n)},e.next=3,fetch("/api_v1/articles/",t);case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,console.log("data",r),s.push("/mystories/");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[n.submit]),Object(d.jsxs)("form",{className:"mt-3 col-6",onSubmit:o,children:[Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"headline",children:"Headline: "}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"headline",autoComplete:"off",onChange:i,name:"headline",value:n.headline})]}),Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"text",children:"Body:"}),Object(d.jsx)("textarea",{type:"textarea",rows:"8",cols:"80",className:"form-control",id:"text",onChange:i,name:"text",value:n.text})]}),Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"category1",children:"Category:"}),Object(d.jsxs)("select",{id:"category1",name:"category1",className:"form-control",onChange:i,value:n.category1,required:!0,children:[Object(d.jsx)("option",{value:"non",children:"None"}),Object(d.jsx)("option",{value:"nrg",children:"Energy and Tech"}),Object(d.jsx)("option",{value:"cur",children:"Current Events"}),Object(d.jsx)("option",{value:"con",children:"Conspiracies"})]})]}),Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"category2",children:"Category:"}),Object(d.jsxs)("select",{id:"category2",name:"category2",className:"form-control",onChange:i,value:n.category2,children:[Object(d.jsx)("option",{value:"non",children:"None"}),Object(d.jsx)("option",{value:"nrg",children:"Energy and Tech"}),Object(d.jsx)("option",{value:"cur",children:"Current Events"}),Object(d.jsx)("option",{value:"con",children:"Conspiracies"})]})]}),Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"category3",children:"Category:"}),Object(d.jsxs)("select",{id:"category3",name:"category3",className:"form-control",onChange:i,value:n.category3,children:[Object(d.jsx)("option",{value:"non",children:"None"}),Object(d.jsx)("option",{value:"nrg",children:"Energy and Tech"}),Object(d.jsx)("option",{value:"cur",children:"Current Events"}),Object(d.jsx)("option",{value:"con",children:"Conspiracies"})]})]}),Object(d.jsx)("button",{value:"dft",type:"button",onClick:o,className:"btn btn-primary mt-3",children:"Save"}),Object(d.jsx)("button",{value:"sub",type:"button",onClick:o,className:"btn btn-primary mt-3",children:"Submit"})]})};var M=function(e){var t;return t=e.articles!=={}?e.articles.filter((function(e){return"con"===e.category1||"con"===e.category2||"con"===e.category3})).map((function(t){return Object(d.jsx)(y,Object(x.a)(Object(x.a)({},t),{},{articles:e.articles,setArticles:e.setArticles}),t.id+9e3)})):Object(d.jsxs)(d.Fragment,{children:[" ",Object(d.jsx)(v.a,{animation:"grow",variant:"primary"}),Object(d.jsx)("p",{children:"Loading..."})]}),Object(d.jsx)("div",{className:"page",children:Object(d.jsx)("div",{className:"article col-12",children:t})})};var H=function(e){var t;return t=e.articles!=={}?e.articles.filter((function(e){return"cur"===e.category1||"cur"===e.category2||"cur"===e.category3})).map((function(t){return Object(d.jsx)(y,Object(x.a)(Object(x.a)({},t),{},{articles:e.articles,setArticles:e.setArticles}),t.id+9e3)})):Object(d.jsxs)(d.Fragment,{children:[" ",Object(d.jsx)(v.a,{animation:"grow",variant:"primary"}),Object(d.jsx)("p",{children:"Loading..."})]}),Object(d.jsx)("div",{className:"page",children:Object(d.jsx)("div",{className:"article col-12",children:t})})};var U=function(e){var t;return t=e.articles!=={}?e.articles.filter((function(e){return"nrg"===e.category1||"nrg"===e.category2||"nrg"===e.category3})).map((function(t){return Object(d.jsx)(y,Object(x.a)(Object(x.a)({},t),{},{articles:e.articles,setArticles:e.setArticles}),t.id+9e3)})):Object(d.jsxs)(d.Fragment,{children:[" ",Object(d.jsx)(v.a,{animation:"grow",variant:"primary"}),Object(d.jsx)("p",{children:"Loading..."})]}),Object(d.jsx)("div",{className:"page",children:Object(d.jsx)("div",{className:"article col-12",children:t})})},q=a(27),_=a.n(q);var z=Object(w.h)((function(){var e,t=Object(r.useState)([{headline:"",text:""}]),a=Object(b.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(null),i=Object(b.a)(s,2),o=i[0],u=i[1],p=Object(r.useState)(null),x=Object(b.a)(p,2),f=x[0],y=x[1],k=Object(r.useState)({pk:4}),C=Object(b.a)(k,2),A=C[0],R=C[1],D=Object(r.useState)(0),q=Object(b.a)(D,2),z=q[0],J=q[1],X=Object(w.g)();function B(){return Y.apply(this,arguments)}function Y(){return(Y=Object(j.a)(l.a.mark((function t(){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/rest-auth/user/",{headers:{"Content-Type":"application/json","X-CSRFToken":O.a.get("csrftoken")}});case 2:if(!(a=t.sent).ok){t.next=9;break}return t.next=6,a.json();case 6:r=t.sent,e=r.pk,R({pk:e});case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Q(){return W.apply(this,arguments)}function W(){return(W=Object(j.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api_v1/articles/pub/");case 2:if(!(t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:a=e.sent,c(a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=function(){var t=Object(j.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api_v1/articles/users/".concat(e,"/"));case 2:if((a=t.sent).ok){t.next=9;break}y(!1),console.log(f),console.log(a),t.next=13;break;case 9:return t.next=11,a.json();case 11:!0===t.sent.is_staff&&y(!0);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)(Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:return e.next=4,Q();case 4:return e.next=6,G();case 6:case"end":return e.stop()}}),e)}))),[,o]),Object(r.useEffect)((function(){var e=function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/rest-auth/user/");case 2:e.sent.ok?u(!0):u(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),Q()}),[X,f,A]),null===o?Object(d.jsx)(v.a,{animation:"grow",variant:"primary"}):Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(h,{}),Object(d.jsx)(m,{isAuth:o,setIsAuth:u,user:A,isStaff:f,setUser:R}),Object(d.jsxs)(w.d,{children:[Object(d.jsx)(S,{path:"/mystories",isStaff:f,children:Object(d.jsxs)("div",{className:"wrapper",children:[Object(d.jsx)(L,{articles:n,setArticles:c,isStaff:f,setArticleID:J}),Object(d.jsx)(g,{articles:n,setArticles:c})]})}),Object(d.jsx)(w.b,{path:"/constories",children:Object(d.jsxs)("div",{className:"wrapper",children:[Object(d.jsx)(M,{articles:n,setArticles:c,isStaff:f}),Object(d.jsx)(g,{articles:n,setArticles:c})]})}),Object(d.jsx)(w.b,{path:"/curstories",children:Object(d.jsxs)("div",{className:"wrapper",children:[Object(d.jsx)(H,{articles:n,setArticles:c,isStaff:f}),Object(d.jsx)(g,{articles:n,setArticles:c})]})}),Object(d.jsx)(w.b,{path:"/nrgstories",children:Object(d.jsxs)("div",{className:"wrapper",children:[Object(d.jsx)(U,{articles:n,setArticles:c,isStaff:f}),Object(d.jsx)(g,{articles:n,setArticles:c})]})}),Object(d.jsx)(w.b,{path:"/test",children:Object(d.jsxs)("div",{className:"wrapper",children:[Object(d.jsx)(_.a,{articles:n,setArticles:c,isStaff:f}),Object(d.jsx)(g,{articles:n,setArticles:c})]})}),Object(d.jsx)(w.b,{path:"/login",children:Object(d.jsx)(T,{isAuth:o,setIsAuth:u,user:A,setUser:R})}),Object(d.jsx)(S,{path:"/edit",isStaff:f,children:Object(d.jsx)(I,{user:A,articleID:z})}),Object(d.jsx)(w.b,{path:"/new",isStaff:f,children:Object(d.jsx)(P,{user:A})}),Object(d.jsx)(w.b,{path:"/register",children:Object(d.jsx)(F,{isAuth:o,setIsAuth:u,user:A,setUser:R})}),Object(d.jsx)(w.b,{path:"/profile",children:Object(d.jsx)(E,{isAuth:o,setIsAuth:u,user:A,setUser:R})}),Object(d.jsx)(w.b,{path:"",children:Object(d.jsxs)("div",{className:"wrapper",children:[Object(d.jsx)(N,{articles:n,setArticles:c,isStaff:f}),Object(d.jsx)(g,{articles:n,setArticles:c})]})})]})]})})),J=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,48)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))};a(46);s.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(i.a,{children:Object(d.jsx)(z,{})})}),document.getElementById("root")),J()}},[[47,1,2]]]);
//# sourceMappingURL=main.b472b718.chunk.js.map