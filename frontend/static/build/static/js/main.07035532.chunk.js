(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{32:function(e,t,a){},34:function(e,t,a){},36:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(23),s=a.n(c),i=(a(32),a(8)),o=a(3),l=a.n(o),j=a(6),b=a(4),u=(a(34),a.p+"static/media/Masthead.84acd058.png"),d=a(0);var h=function(){return Object(d.jsx)("div",{className:"Masthead",children:Object(d.jsx)("img",{src:u,alt:"The New York End Times"})})},m=a(9),p=a.n(m);a(36);var O=function(e){var t,a;console.log(e);var n=function(){var t=Object(j.a)(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":p.a.get("csrftoken")},body:JSON.stringify(e.user)},t.next=3,fetch("/rest-auth/logout/",a);case 3:if(n=t.sent){t.next=8;break}console.log(n),t.next=14;break;case 8:return t.next=10,n.json();case 10:t.sent,p.a.remove("Authorization"),e.setIsAuth(!1),e.setUser(4);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t=!0===e.isAuth?Object(d.jsx)(i.b,{to:"/logout",onClick:n,children:" Logout "}):Object(d.jsx)(i.b,{to:"/login",children:" Login "}),a=!0===e.isStaff?Object(d.jsxs)("li",{className:"nav-item mr-3",children:[" ",Object(d.jsx)(i.b,{to:"/mystories",children:" My Stories "})]}):Object(d.jsx)(d.Fragment,{}),Object(d.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(d.jsxs)("div",{className:"container-fluid",children:[Object(d.jsx)("a",{className:"navbar-brand",href:"#",children:"Site Navigation"}),Object(d.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarColor03","aria-controls":"navbarColor03","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(d.jsx)("span",{className:"navbar-toggler-icon"})}),Object(d.jsx)("div",{className:"collapse navbar-collapse",id:"navbarColor03",children:Object(d.jsxs)("ul",{className:"navbar-nav me-auto",children:[Object(d.jsx)("li",{className:"nav-item mr-3",children:Object(d.jsx)(i.b,{to:"",children:" Home "})}),Object(d.jsx)("li",{className:"nav-item mr-3",children:Object(d.jsx)(i.b,{to:"/constories",children:" Conspiracies "})}),Object(d.jsx)("li",{className:"nav-item mr-3",children:Object(d.jsx)(i.b,{to:"/curstories",children:" Current Events "})}),Object(d.jsx)("li",{className:"nav-item mr-3",children:Object(d.jsx)(i.b,{to:"/nrgstories",children:" Energy and Tech "})}),a,Object(d.jsx)("li",{className:"nav-item mr-3",children:t})]})})]})})},x=a(2);var f=function(e){return Object(d.jsxs)("aside",{className:"sidebar-article",id:e.id,children:[Object(d.jsx)("h3",{children:e.headline}),Object(d.jsx)("p",{children:e.text})]})},v=a(10);var g=function(e){var t,a=Object(n.useState)([]),r=Object(b.a)(a,2),c=r[0],s=r[1];function i(){return(i=Object(j.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api_v1/articles/bitesize/");case 2:if(!(t=e.sent).ok){e.next=10;break}return e.next=6,t.json();case 6:a=e.sent,n=a,console.log(a),s(n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[]),t=c!==[]?c.map((function(e){return Object(d.jsx)(f,Object(x.a)(Object(x.a)({},e),{},{bitesize:c}),e.id+7e3)})):Object(d.jsxs)(d.Fragment,{children:[" ",Object(d.jsx)(v.a,{animation:"grow",variant:"primary"}),Object(d.jsx)("p",{children:"Loading..."})]}),Object(d.jsxs)("div",{className:"Sidebar",children:[Object(d.jsx)("h2",{className:"side-head",children:"Bite-Sized News!"}),t]})};a(42);var y=function(e){var t,a=Object(n.useState)(!0),r=Object(b.a)(a,2),c=r[0],s=r[1],i=Object(n.useState)(),o=Object(b.a)(i,2)[1];return Object(n.useCallback)((function(){return o({})}),[]),t=Object(d.jsxs)("article",{id:"{props.id}",children:[Object(d.jsxs)("div",{className:"headwrap",children:[Object(d.jsx)("h2",{children:e.headline}),Object(d.jsx)("button",{id:"read-button",onClick:function(e){s(!c);var t=e.target.parentElement.parentElement;!0===c?(t.style.maxHeight="500vh",e.target.innerHTML="Read Less"):(t.style.maxHeight="20vh",e.target.innerHTML="Read More")},children:"Read More"})]}),Object(d.jsx)("p",{children:e.text})]}),Object(d.jsx)(d.Fragment,{children:t})};var N=function(e){var t;return t=e.articles!=={}?e.articles.map((function(t){return Object(d.jsx)(y,Object(x.a)(Object(x.a)({},t),{},{articles:e.articles,setArticles:e.setArticles}),t.id+9e3)})):Object(d.jsxs)(d.Fragment,{children:[" ",Object(d.jsx)(v.a,{animation:"grow",variant:"primary"}),Object(d.jsx)("p",{children:"Loading..."})]}),Object(d.jsx)("div",{className:"page",children:Object(d.jsx)("div",{className:"article col-12",children:t})})},w=a(7),k=a(27),C=["isStaff"];var S=function(e){var t=e.isStaff,a=Object(k.a)(e,C);return t?Object(d.jsx)(w.b,Object(x.a)({},a)):Object(d.jsx)(w.a,{to:"/login"})},A=a(14);var F=function(){var e=Object(n.useState)({alias:"",avatar:null}),t=Object(b.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),s=Object(b.a)(c,2),i=s[0],o=s[1];return Object(d.jsx)("div",{className:"ProfileForm",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("alias",a.alias),t.append("avatar",a.avatar);p.a.get("csrftoken")},children:[Object(d.jsx)("input",{type:"text",name:"alias",value:a.alias,onChange:function(e){var t=e.target,n=t.name,c=t.value;r(Object(x.a)(Object(x.a)({},a),{},Object(A.a)({},n,c)))}}),Object(d.jsx)("input",{type:"file",name:"avatar",onChange:function(e){var t=e.target.files[0];r(Object(x.a)(Object(x.a)({},a),{},{avatar:t}));var n=new FileReader;n.onloadend=function(){o(n.result)},n.readAsDataURL(t)}}),a.avatar&&Object(d.jsx)("img",{src:i,alt:""}),Object(d.jsx)("button",{type:"submit",children:"Save Profile"})]})})};var E=function(e){var t=Object(n.useState)({username:"",email:"",password1:"",password2:""}),a=Object(b.a)(t,2),r=a[0],c=a[1];function s(e){var t=e.target,a=t.name,n=t.value;c((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(A.a)({},a,n))}))}var i=Object(n.useState)(null),o=Object(b.a)(i,2),u=o[0],h=o[1];function m(e){console.warn(e)}function O(){return(O=Object(j.a)(l.a.mark((function e(t){var a,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r.password1===r.password2){e.next=5;break}h("Passwords do not match!"),e.next=17;break;case 5:return a={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":p.a.get("csrftoken")},body:JSON.stringify(r)},e.next=8,fetch("/rest-auth/registration/",a).catch(m);case 8:if(n=e.sent){e.next=13;break}console.log(n),e.next=17;break;case 13:return e.next=15,n.json();case 15:c=e.sent,p.a.set("Authorization","Token ".concat(c.key));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(d.jsxs)("form",{className:"mt-3 col-6",onSubmit:function(e){return O.apply(this,arguments)},children:[Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"username",children:"Username"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"username",placeholder:"Enter username",onChange:s,required:!0,name:"username",value:r.username})]}),Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"email",children:"Email address"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"email",placeholder:"Enter E-mail",onChange:s,required:!0,name:"email",value:r.email})]}),Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"password1",children:"Password:"}),Object(d.jsx)("input",{type:"password",className:"form-control",id:"password1",placeholder:"Enter Password",onChange:s,required:!0,name:"password1",value:r.password1})]}),Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"password2",children:"Confirm Password:"}),Object(d.jsx)("input",{type:"password",className:"form-control",id:"password2",placeholder:"Re-enter password",onChange:s,required:!0,name:"password2",value:r.password2}),u&&Object(d.jsxs)("span",{className:"text-danger",children:[" ",u]})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary mt-3",children:"Register"})]})};a(43);var T=Object(w.h)((function(e){var t=Object(n.useState)({username:"",password:""}),a=Object(b.a)(t,2),r=a[0],c=a[1];function s(e){var t=e.target,a=t.name,n=t.value;c((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(A.a)({},a,n))}))}function i(e){console.warn(e)}function o(){return(o=Object(j.a)(l.a.mark((function t(a){var n,c,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":p.a.get("csrftoken")},body:JSON.stringify(r)},t.next=4,fetch("/rest-auth/login/",n).catch(i);case 4:if(c=t.sent){t.next=9;break}console.log(c),t.next=14;break;case 9:return t.next=11,c.json();case 11:s=t.sent,p.a.set("Authorization","Token ".concat(s.key)),e.setIsAuth(!0);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return e.isAuth?Object(d.jsx)(w.a,{to:"/"}):Object(d.jsxs)("form",{className:"mt-3 col-6",onSubmit:function(e){return o.apply(this,arguments)},children:[Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"username",children:"Username"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"username",placeholder:"Enter username",onChange:s,required:!0,name:"username",value:r.username})]}),Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(d.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Enter Password",onChange:s,required:!0,name:"password",value:r.password1})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary mt-3",children:"Log in"}),Object(d.jsx)("button",{type:"click",className:"btn btn-primary mt-3",children:"Register"})]})})),D=(a(44),a(26));var L=function(e){var t,a,r,c=Object(w.g)(),s=Object(n.useState)(!0),i=Object(b.a)(s,2),o=i[0],l=i[1];switch(e.phase){case"sub":a="Submitted";break;case"pub":a="Published";break;case"rej":a="Rejected";break;case"dft":a="Draft"}return r="Draft"===a?Object(d.jsx)("button",{id:"edit-button",onClick:function(t){var a=t.target.parentElement.parentElement.parentElement.id;e.setArticleID(a),console.log(a),c.push("/edit/")},children:"Edit"}):Object(d.jsx)(d.Fragment,{children:" "}),t=Object(d.jsxs)("article",{id:e.id,children:[Object(d.jsxs)("div",{className:"headwrap",children:[Object(d.jsxs)("div",{className:"badgewrap",children:[Object(d.jsx)("h2",{children:e.headline}),Object(d.jsx)(D.a,{className:"badge",children:a})]}),Object(d.jsxs)("div",{className:"buttonDiv",children:[r,Object(d.jsx)("button",{id:"read-button",onClick:function(e){l(!o);var t=e.target.parentElement.parentElement.parentElement;!0===o?(t.style.maxHeight="500vh",e.target.innerHTML="Read Less"):(t.style.maxHeight="20vh",e.target.innerHTML="Read More")},children:"Read More"})]})]}),Object(d.jsx)("p",{children:e.text})]}),Object(d.jsx)(d.Fragment,{children:t})};var R=function(e){var t,a=Object(n.useState)([]),r=Object(b.a)(a,2),c=r[0],s=r[1],i=Object(w.g)();function o(){return(o=Object(j.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api_v1/articles/personal/");case 2:if(!(t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:a=e.sent,s(a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){o.apply(this,arguments)}()}),[]),t=c!==[]?c.map((function(t){return Object(d.jsx)(L,Object(x.a)(Object(x.a)({},t),{},{articles:e.articles,setArticles:e.setArticles,setArticleID:e.setArticleID}),t.id+8e3)})):Object(d.jsxs)(d.Fragment,{children:[" ",Object(d.jsx)(v.a,{animation:"grow",variant:"primary"}),Object(d.jsx)("p",{children:"Loading..."})]}),Object(d.jsxs)("div",{className:"page",children:[Object(d.jsxs)("div",{className:"article col-12 text-center",children:[Object(d.jsx)("h2",{children:" Welcome Staff!  Your stories are below."}),Object(d.jsx)("hr",{})]}),Object(d.jsxs)("div",{children:[t,Object(d.jsx)("button",{onClick:function(){i.push("/new")},children:"Create New Article"})]})]})};var I=function(e){var t=Object(n.useState)({submit:0}),a=Object(b.a)(t,2),r=a[0],c=a[1],s=Object(w.g)();function i(){return(i=Object(j.a)(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return 0===e.articleID&&s.push("/mystories/"),t.next=3,fetch("/api_v1/articles/".concat(e.articleID,"/"));case 3:if(!(a=t.sent).ok){t.next=9;break}return t.next=7,a.json();case 7:n=t.sent,c(Object(x.a)(Object(x.a)({},r),n));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function o(e){var t=e.target,a=t.name,n=t.value;c((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(A.a)({},a,n))}))}function u(e){return h.apply(this,arguments)}function h(){return(h=Object(j.a)(l.a.mark((function t(a){var n,c,i,o,j;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=a.target.value,(c=Object(x.a)({},r)).phase=n,i={method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":p.a.get("csrftoken")},body:JSON.stringify(c)},t.next=7,fetch("/api_v1/articles/".concat(e.articleID,"/"),i);case 7:return o=t.sent,t.next=10,o.json();case 10:j=t.sent,console.log("data",j),s.push("/mystories/");case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[]),Object(d.jsxs)("form",{className:"mt-3 col-6",onSubmit:u,children:[Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"headline",children:"Headline: "}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"headline",autoComplete:"off",onChange:o,name:"headline",value:r.headline})]}),Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"text",children:"Body:"}),Object(d.jsx)("textarea",{type:"textarea",rows:"8",cols:"80",className:"form-control",id:"text",onChange:o,name:"text",value:r.text})]}),Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"category1",children:"Category:"}),Object(d.jsxs)("select",{id:"category1",name:"category1",className:"form-control",onChange:o,value:r.category1,required:!0,children:[Object(d.jsx)("option",{value:"non",children:"None"}),Object(d.jsx)("option",{value:"nrg",children:"Energy and Tech"}),Object(d.jsx)("option",{value:"cur",children:"Current Events"}),Object(d.jsx)("option",{value:"con",children:"Conspiracies"})]})]}),Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"category2",children:"Category:"}),Object(d.jsxs)("select",{id:"category2",name:"category2",className:"form-control",onChange:o,value:r.category2,children:[Object(d.jsx)("option",{value:"non",children:"None"}),Object(d.jsx)("option",{value:"nrg",children:"Energy and Tech"}),Object(d.jsx)("option",{value:"cur",children:"Current Events"}),Object(d.jsx)("option",{value:"con",children:"Conspiracies"})]})]}),Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"category3",children:"Category:"}),Object(d.jsxs)("select",{id:"category3",name:"category3",className:"form-control",onChange:o,value:r.category3,children:[Object(d.jsx)("option",{value:"non",children:"None"}),Object(d.jsx)("option",{value:"nrg",children:"Energy and Tech"}),Object(d.jsx)("option",{value:"cur",children:"Current Events"}),Object(d.jsx)("option",{value:"con",children:"Conspiracies"})]})]}),Object(d.jsx)("button",{value:"dft",type:"button",onClick:u,className:"btn btn-primary mt-3",children:"Save and Quit"}),Object(d.jsx)("button",{value:"sub",type:"button",onClick:u,className:"btn btn-primary mt-3",children:"Submit"})]})};var P=function(e){var t=Object(n.useState)({submit:0}),a=Object(b.a)(t,2),r=a[0],c=a[1],s=Object(w.g)();function i(e){var t=e.target,a=t.name,n=t.value;c((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(A.a)({},a,n))}))}function o(e){return u.apply(this,arguments)}function u(){return(u=Object(j.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=t.target.value,c(Object(x.a)(Object(x.a)({},r),{},{phase:a,submit:r.submit+1}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){if(r.submit){var e=function(){var e=Object(j.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":p.a.get("csrftoken")},body:JSON.stringify(r)},e.next=3,fetch("/api_v1/articles/",t);case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,console.log("data",n),s.push("/mystories/");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[r.submit]),Object(d.jsxs)("form",{className:"mt-3 col-6",onSubmit:o,children:[Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"headline",children:"Headline: "}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"headline",autoComplete:"off",onChange:i,name:"headline",value:r.headline})]}),Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"text",children:"Body:"}),Object(d.jsx)("textarea",{type:"textarea",rows:"8",cols:"80",className:"form-control",id:"text",onChange:i,name:"text",value:r.text})]}),Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"category1",children:"Category:"}),Object(d.jsxs)("select",{id:"category1",name:"category1",className:"form-control",onChange:i,value:r.category1,required:!0,children:[Object(d.jsx)("option",{value:"non",children:"None"}),Object(d.jsx)("option",{value:"nrg",children:"Energy and Tech"}),Object(d.jsx)("option",{value:"cur",children:"Current Events"}),Object(d.jsx)("option",{value:"con",children:"Conspiracies"})]})]}),Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"category2",children:"Category:"}),Object(d.jsxs)("select",{id:"category2",name:"category2",className:"form-control",onChange:i,value:r.category2,children:[Object(d.jsx)("option",{value:"non",children:"None"}),Object(d.jsx)("option",{value:"nrg",children:"Energy and Tech"}),Object(d.jsx)("option",{value:"cur",children:"Current Events"}),Object(d.jsx)("option",{value:"con",children:"Conspiracies"})]})]}),Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"category3",children:"Category:"}),Object(d.jsxs)("select",{id:"category3",name:"category3",className:"form-control",onChange:i,value:r.category3,children:[Object(d.jsx)("option",{value:"non",children:"None"}),Object(d.jsx)("option",{value:"nrg",children:"Energy and Tech"}),Object(d.jsx)("option",{value:"cur",children:"Current Events"}),Object(d.jsx)("option",{value:"con",children:"Conspiracies"})]})]}),Object(d.jsx)("button",{value:"dft",type:"button",onClick:o,className:"btn btn-primary mt-3",children:"Save"}),Object(d.jsx)("button",{value:"sub",type:"button",onClick:o,className:"btn btn-primary mt-3",children:"Submit"})]})};var M=function(e){var t;return t=e.articles!=={}?e.articles.filter((function(e){return"con"===e.category1||"con"===e.category2||"con"===e.category3})).map((function(t){return Object(d.jsx)(y,Object(x.a)(Object(x.a)({},t),{},{articles:e.articles,setArticles:e.setArticles}),t.id+9e3)})):Object(d.jsxs)(d.Fragment,{children:[" ",Object(d.jsx)(v.a,{animation:"grow",variant:"primary"}),Object(d.jsx)("p",{children:"Loading..."})]}),Object(d.jsx)("div",{className:"page",children:Object(d.jsx)("div",{className:"article col-12",children:t})})};var H=function(e){var t;return t=e.articles!=={}?e.articles.filter((function(e){return"cur"===e.category1||"cur"===e.category2||"cur"===e.category3})).map((function(t){return Object(d.jsx)(y,Object(x.a)(Object(x.a)({},t),{},{articles:e.articles,setArticles:e.setArticles}),t.id+9e3)})):Object(d.jsxs)(d.Fragment,{children:[" ",Object(d.jsx)(v.a,{animation:"grow",variant:"primary"}),Object(d.jsx)("p",{children:"Loading..."})]}),Object(d.jsx)("div",{className:"page",children:Object(d.jsx)("div",{className:"article col-12",children:t})})};var U=function(e){var t;return t=e.articles!=={}?e.articles.filter((function(e){return"nrg"===e.category1||"nrg"===e.category2||"nrg"===e.category3})).map((function(t){return Object(d.jsx)(y,Object(x.a)(Object(x.a)({},t),{},{articles:e.articles,setArticles:e.setArticles}),t.id+9e3)})):Object(d.jsxs)(d.Fragment,{children:[" ",Object(d.jsx)(v.a,{animation:"grow",variant:"primary"}),Object(d.jsx)("p",{children:"Loading..."})]}),Object(d.jsx)("div",{className:"page",children:Object(d.jsx)("div",{className:"article col-12",children:t})})};var q=Object(w.h)((function(){var e,t=Object(n.useState)([{headline:"",text:""}]),a=Object(b.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(null),i=Object(b.a)(s,2),o=i[0],u=i[1],m=Object(n.useState)(null),x=Object(b.a)(m,2),f=x[0],y=x[1],k=Object(n.useState)({pk:4}),C=Object(b.a)(k,2),A=C[0],D=C[1],L=Object(n.useState)(0),q=Object(b.a)(L,2),_=q[0],J=q[1],z=Object(w.g)();function X(){return B.apply(this,arguments)}function B(){return(B=Object(j.a)(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/rest-auth/user/",{headers:{"Content-Type":"application/json","X-CSRFToken":p.a.get("csrftoken")}});case 2:if(!(a=t.sent).ok){t.next=11;break}return t.next=6,a.json();case 6:n=t.sent,e=n.pk,D({pk:e}),console.log(n),console.log(e);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Y(){return Q.apply(this,arguments)}function Q(){return(Q=Object(j.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api_v1/articles/pub/");case 2:if(!(t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:a=e.sent,c(a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W=function(){var t=Object(j.a)(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api_v1/articles/users/".concat(e,"/"));case 2:if((a=t.sent).ok){t.next=9;break}y(!1),console.log(f),console.log(a),t.next=13;break;case 9:return t.next=11,a.json();case 11:!0===(n=t.sent).is_staff&&(y(!0),console.log(f),console.log(n),console.log(a));case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)(Object(j.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X();case 2:return t.next=4,Y();case 4:return console.log(e),t.next=7,W();case 7:console.log(A);case 8:case"end":return t.stop()}}),t)}))),[,o]),Object(n.useEffect)((function(){var e=function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/rest-auth/user/");case 2:e.sent.ok?u(!0):u(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),Y(),console.log(r),console.log(A)}),[z,f,A]),null===o?Object(d.jsx)(v.a,{animation:"grow",variant:"primary"}):Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(h,{}),Object(d.jsx)(O,{isAuth:o,setIsAuth:u,user:A,isStaff:f,setUser:D}),Object(d.jsxs)(w.d,{children:[Object(d.jsx)(S,{path:"/mystories",isStaff:f,children:Object(d.jsxs)("div",{className:"wrapper",children:[Object(d.jsx)(R,{articles:r,setArticles:c,isStaff:f,setArticleID:J}),Object(d.jsx)(g,{articles:r,setArticles:c})]})}),Object(d.jsx)(w.b,{path:"/constories",children:Object(d.jsxs)("div",{className:"wrapper",children:[Object(d.jsx)(M,{articles:r,setArticles:c,isStaff:f}),Object(d.jsx)(g,{articles:r,setArticles:c})]})}),Object(d.jsx)(w.b,{path:"/curstories",children:Object(d.jsxs)("div",{className:"wrapper",children:[Object(d.jsx)(H,{articles:r,setArticles:c,isStaff:f}),Object(d.jsx)(g,{articles:r,setArticles:c})]})}),Object(d.jsx)(w.b,{path:"/nrgstories",children:Object(d.jsxs)("div",{className:"wrapper",children:[Object(d.jsx)(U,{articles:r,setArticles:c,isStaff:f}),Object(d.jsx)(g,{articles:r,setArticles:c})]})}),Object(d.jsx)(w.b,{path:"/login",children:Object(d.jsx)(T,{isAuth:o,setIsAuth:u,user:A,setUser:D})}),Object(d.jsx)(S,{path:"/edit",isStaff:f,children:Object(d.jsx)(I,{user:A,articleID:_})}),Object(d.jsx)(w.b,{path:"/new",isStaff:f,children:Object(d.jsx)(P,{user:A})}),Object(d.jsx)(w.b,{path:"/register",children:Object(d.jsx)(E,{isAuth:o,setIsAuth:u,user:A,setUser:D})}),Object(d.jsx)(w.b,{path:"/profile",children:Object(d.jsx)(F,{isAuth:o,setIsAuth:u,user:A,setUser:D})}),Object(d.jsx)(w.b,{path:"",children:Object(d.jsxs)("div",{className:"wrapper",children:[Object(d.jsx)(N,{articles:r,setArticles:c,isStaff:f}),Object(d.jsx)(g,{articles:r,setArticles:c})]})})]})]})})),_=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,47)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};a(45);s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(i.a,{children:Object(d.jsx)(q,{})})}),document.getElementById("root")),_()}},[[46,1,2]]]);
//# sourceMappingURL=main.07035532.chunk.js.map